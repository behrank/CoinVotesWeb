@inherits LayoutComponentBase

<script src="js/dashboard.js"></script>

<div class="container-fluid bg-dark text-light">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link text-light @(context == "/dashboard" ? "active" : "")" href="/dashboard">
                            <i class="fas fa-home"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light @(context == "/dashboard/users" ? "active" : "")" href="/dashboard/users">
                            <i class="fas fa-users"></i>
                            Users
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light @(context == "/dashboard/devices" ? "active" : "")" href="/dashboard/devices">
                            <i class="fas fa-mobile-alt"></i>
                            Devices
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light @(context == "/dashboard/signals" ? "active" : "")" href="/dashboard/signals">
                            <i class="fas fa-bell"></i>
                            Signals
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light @(context == "/dashboard/symbols" ? "active" : "")" href="/dashboard/symbols">
                            <i class="fas fa-chart-line"></i>
                            Symbols
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light @(context == "/dashboard/purchases" ? "active" : "")" href="/dashboard/purchases">
                            <i class="fas fa-shopping-cart"></i>
                            Purchases
                        </a>
                    </li>
                </ul>
                
                <div class="mt-auto pt-3 border-top border-secondary">
                    <a class="nav-link text-light" href="/">
                        <i class="fas fa-arrow-left"></i>
                        Back to Main
                    </a>
                </div>
            </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom border-secondary">
                <button class="navbar-toggler d-md-none collapsed bg-dark text-light" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <h1 class="h2 text-light">@PageTitle</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <div class="btn-group me-2">
                        <button type="button" class="btn btn-sm btn-outline-light">Share</button>
                        <button type="button" class="btn btn-sm btn-outline-light">Export</button>
                    </div>
                    <button type="button" class="btn btn-sm btn-outline-light dropdown-toggle">
                        <i class="fas fa-calendar"></i>
                        This week
                    </button>
                </div>
            </div>

            @Body
        </main>
    </div>
</div>

<style>
    /* Override styles to fix sticky sidebar */
    .sidebar {
        position: fixed !important;
        top: 0 !important;
        bottom: 0 !important;
        left: 0 !important;
        z-index: 100 !important;
        padding: 48px 0 0 !important;
        box-shadow: inset -1px 0 0 rgba(255, 255, 255, .1) !important;
    }
    
    main {
        margin-left: 250px !important;
    }
    
    @@media (max-width: 767.98px) {
        .sidebar {
            top: 5rem !important;
        }
        
        main {
            margin-left: 0 !important;
        }
    }
    
    /* Dark theme styles */
    body {
        background-color: #212529;
        color: #f8f9fa;
    }
    
    .nav-link.active {
        background-color: #343a40;
        color: #fff !important;
    }
    
    .nav-link:hover {
        background-color: #343a40;
    }
    
    .card {
        background-color: #343a40;
        border-color: #495057;
    }
    
    .card-header {
        background-color: #2c3136;
        border-bottom-color: #495057;
    }
    
    .table {
        color: #f8f9fa;
    }
    
    .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .table-hover tbody tr:hover {
        background-color: rgba(255, 255, 255, 0.075);
    }
    
    .border-secondary {
        border-color: #495057 !important;
    }
    
    .btn-outline-light {
        color: #f8f9fa;
        border-color: #f8f9fa;
    }
    
    .btn-outline-light:hover {
        background-color: #f8f9fa;
        color: #212529;
    }
</style>

<script src="js/dashboard.js"></script>

@code {
    [Parameter]
    public string PageTitle { get; set; } = "Dashboard";

    private string context => NavigationManager.Uri.Replace(NavigationManager.BaseUri, "");

    [Inject]
    private NavigationManager NavigationManager { get; set; }
} 